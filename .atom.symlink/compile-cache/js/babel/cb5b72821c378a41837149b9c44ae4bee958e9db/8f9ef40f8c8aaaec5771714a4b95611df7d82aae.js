var koa = require('koa');
var app = koa();

// x-response-time

app.use(function* (next) {
  var start = new Date();
  yield next;
  var ms = new Date() - start;
  this.set('X-Response-Time', ms + 'ms');
});

// logger

app.use(function* (next) {
  var start = new Date();
  yield next;
  var ms = new Date() - start;
  console.log('%s %s - %s', this.method, this.url, ms);
});

// response

app.use(function* () {
  this.body = 'Hello World';
});

app.listen(3000);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9MdWNhenovLmRvdGZpbGVzLy5hdG9tLnN5bWxpbmsvcGFja2FnZXMvc2V0aS1zeW50YXgvc2FtcGxlLWZpbGVzL0phdmFTY3JpcHQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsSUFBSSxHQUFHLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ3pCLElBQUksR0FBRyxHQUFHLEdBQUcsRUFBRSxDQUFDOzs7O0FBSWhCLEdBQUcsQ0FBQyxHQUFHLENBQUMsV0FBVyxJQUFJLEVBQUM7QUFDdEIsTUFBSSxLQUFLLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztBQUN2QixRQUFNLElBQUksQ0FBQztBQUNYLE1BQUksRUFBRSxHQUFHLElBQUksSUFBSSxFQUFFLEdBQUcsS0FBSyxDQUFDO0FBQzVCLE1BQUksQ0FBQyxHQUFHLENBQUMsaUJBQWlCLEVBQUUsRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDO0NBQ3hDLENBQUMsQ0FBQzs7OztBQUlILEdBQUcsQ0FBQyxHQUFHLENBQUMsV0FBVyxJQUFJLEVBQUM7QUFDdEIsTUFBSSxLQUFLLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztBQUN2QixRQUFNLElBQUksQ0FBQztBQUNYLE1BQUksRUFBRSxHQUFHLElBQUksSUFBSSxFQUFFLEdBQUcsS0FBSyxDQUFDO0FBQzVCLFNBQU8sQ0FBQyxHQUFHLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsQ0FBQztDQUN0RCxDQUFDLENBQUM7Ozs7QUFJSCxHQUFHLENBQUMsR0FBRyxDQUFDLGFBQVk7QUFDbEIsTUFBSSxDQUFDLElBQUksR0FBRyxhQUFhLENBQUM7Q0FDM0IsQ0FBQyxDQUFDOztBQUVILEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMiLCJmaWxlIjoiL1VzZXJzL0x1Y2F6ei8uZG90ZmlsZXMvLmF0b20uc3ltbGluay9wYWNrYWdlcy9zZXRpLXN5bnRheC9zYW1wbGUtZmlsZXMvSmF2YVNjcmlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBrb2EgPSByZXF1aXJlKCdrb2EnKTtcbnZhciBhcHAgPSBrb2EoKTtcblxuLy8geC1yZXNwb25zZS10aW1lXG5cbmFwcC51c2UoZnVuY3Rpb24gKihuZXh0KXtcbiAgdmFyIHN0YXJ0ID0gbmV3IERhdGUoKTtcbiAgeWllbGQgbmV4dDtcbiAgdmFyIG1zID0gbmV3IERhdGUoKSAtIHN0YXJ0O1xuICB0aGlzLnNldCgnWC1SZXNwb25zZS1UaW1lJywgbXMgKyAnbXMnKTtcbn0pO1xuXG4vLyBsb2dnZXJcblxuYXBwLnVzZShmdW5jdGlvbiAqKG5leHQpe1xuICB2YXIgc3RhcnQgPSBuZXcgRGF0ZSgpO1xuICB5aWVsZCBuZXh0O1xuICB2YXIgbXMgPSBuZXcgRGF0ZSgpIC0gc3RhcnQ7XG4gIGNvbnNvbGUubG9nKCclcyAlcyAtICVzJywgdGhpcy5tZXRob2QsIHRoaXMudXJsLCBtcyk7XG59KTtcblxuLy8gcmVzcG9uc2VcblxuYXBwLnVzZShmdW5jdGlvbiAqKCl7XG4gIHRoaXMuYm9keSA9ICdIZWxsbyBXb3JsZCc7XG59KTtcblxuYXBwLmxpc3RlbigzMDAwKTtcbiJdfQ==